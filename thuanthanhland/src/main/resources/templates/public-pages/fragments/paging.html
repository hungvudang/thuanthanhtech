<th:block th:fragment="blog-paging">
    <th:block th:if="${totalPages  &gt; 0}">
        <div class="container mt-5">
            <div class="row mt-4 justify-content-center">
                <div>
                    <nav>
                        <!-- Previous page -->
                        <!-- ============================================================================== -->
                        <ul class="pagination justify-content-center">
                            <li class="page-item"
                                th:class="(${currentPage} &gt; 1)? 'page-item' : 'page-item disabled'">
                                <a class="page-link" th:href="@{'/news/page/' + ${currentPage - 1}}"
                                    aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                    <span class="sr-only">Previous</span>
                                </a>
                            </li>
                            <!-- ============================================================================== -->

                            <!-- Nếu tổng số trang nhỏ hơn 8 -->
                            <th:block th:if="${totalPages &lt; 8}"
                                th:each="index : ${#numbers.sequence(1, totalPages)}">
                                <li class="page-item"
                                    th:class="(${currentPage} == ${index}) ? 'page-item disabled' : 'page-item'">
                                    <a class="page-link" th:href="@{'/news/page/' + ${index}}">[[${index}]]</a>
                                </li>
                            </th:block>

                            <!-- Nếu tổng số trang lớn hơn 8 -->
                            <th:block th:unless="${totalPages &lt; 8}">
                                <th:block
                                    th:if="(${currentPage - 3} &lt; 1) or (${currentPage + 3} &gt; ${totalPages})">

                                    <th:block th:each="index: ${#numbers.sequence(1, 3)}">
                                        <li class="page-item"
                                            th:class="(${currentPage} == ${index}) ? 'page-item disabled' : 'page-item'">
                                            <a class="page-link" th:href="@{'/news/page/' + ${index}}">[[${index}]]</a>
                                        </li>
                                    </th:block>

                                    <li class="page-item">
                                        <a class="page-link" th:href="@{/news/page/4}">...</a>
                                    </li>

                                    <th:block th:each="index: ${#numbers.sequence(totalPages -2, totalPages)}">
                                        <li class="page-item"
                                            th:class="(${currentPage} == ${index}) ? 'page-item disabled' : 'page-item'">
                                            <a class="page-link" th:href="@{'/news/page/' + ${index}}">[[${index}]]</a>
                                        </li>
                                    </th:block>
                                </th:block>

                                <!-- ============================================================================== -->
                                <th:block
                                    th:unless="(${currentPage - 3} &lt; 1) or (${currentPage + 3} &gt; ${totalPages})">
                                    <li class="page-item">
                                        <a class="page-link" th:href="@{'/news/page/' + ${currentPage - 3}}">...</a>
                                    </li>

                                    <th:block th:each="index : ${#numbers.sequence(currentPage -2 , currentPage + 2)}">
                                        <li class="page-item"
                                            th:class="(${currentPage} == ${index}) ? 'page-item disabled' : 'page-item'">
                                            <a class="page-link" th:href="@{'/news/page/' + ${index}}">[[${index}]]</a>
                                        </li>
                                    </th:block>

                                    <li class="page-item">
                                        <a class="page-link" th:href="@{'/news/page/' + ${currentPage + 3}}">...</a>
                                    </li>
                                </th:block>
                            </th:block>

                            <!-- Next page -->
                            <!-- ============================================================================== -->
                            <li class="page-item"
                                th:class="(${currentPage} &lt; ${totalPages}) ? 'page-item' : 'page-item disabled'">
                                <a class="page-link" th:href="@{'/news/page/' + ${currentPage + 1}}" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                    <span class="sr-only">Next</span>
                                </a>
                            </li>
                            <!-- ============================================================================== -->
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </th:block>
</th:block>